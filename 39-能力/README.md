## 第39章 能力

### 能力基本原理

传统的UNIX权限模型将进程分为两类：有效用户ID为0（超级用户）的进程、其他进程；如果一个非特权用户要执行超级用户才能执行的操作，通常需要使用set-user-ID-root程序，但同时赋予了它其他操作的权限；Linux能力模型在执行安全性检测时，超级用户的权限被划分为了不同的单元，称之为能力，每个特权操作与特定能力关联；超级用户会被内核赋予所有能力

### 进程和文件能力

##### 进程能力

内核为每个进程维护三个能力集：

* 许可的：一个进程可能使用的能力
* 有效的：内核使用这些能力对进程执行权限检测
* 可继承的：进程执行一个程序时将这些权限带入许可集中

Linux特有的/proc/PID/status中的CapInh、CapPrm、CapEff三个字段可以查看任意进程这3个能力的16进制表示

fork创建的子进程会继承父进程的能力集，能力时一个线程级特性，可通过/proc/PID/task/TID/status查看

##### 