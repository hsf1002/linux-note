## 第38章 编写安全的特权程序

### 是否需要一个set-user-id或set-group-id程序

一个程序可以通过两种方式以特权方式运行：

* 程序在特权用户ID下启动，很多daemon程序都是以root身份启动并运行
* 程序设置了set-user-ID或set-group-ID权限位，当此程序被执行时，它会将进程的有效用户ID（组）修改为程序的所有者（组）

尽量避免编写此类程序

假如一个set-user-ID程序需要更新一个它没有写权限的程序，更加安全的方式是创建一个专用组账号（组ID），将文件所属的组修改为那个组，接着编写一个将进程的有效组ID设置为该专用组ID的set-user-ID程序，由于这个专用组ID没有其他权限位，能够极大的限制程序包含bug或被破坏时造成的损失

